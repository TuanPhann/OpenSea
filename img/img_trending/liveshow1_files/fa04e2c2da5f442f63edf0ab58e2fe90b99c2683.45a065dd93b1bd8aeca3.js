(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[42],{"+tV+":function(e,n,a){"use strict";a.r(n);var l=function(){var e={defaultValue:null,kind:"LocalArgument",name:"assetContract"},n={defaultValue:null,kind:"LocalArgument",name:"chain"},a={defaultValue:null,kind:"LocalArgument",name:"collection"},l={defaultValue:null,kind:"LocalArgument",name:"description"},t={defaultValue:null,kind:"LocalArgument",name:"externalLink"},i={defaultValue:null,kind:"LocalArgument",name:"imageFile"},s={defaultValue:null,kind:"LocalArgument",name:"isNsfw"},o={defaultValue:null,kind:"LocalArgument",name:"levels"},r={defaultValue:null,kind:"LocalArgument",name:"maxSupply"},c={defaultValue:null,kind:"LocalArgument",name:"mediaFile"},u={defaultValue:null,kind:"LocalArgument",name:"name"},d={defaultValue:null,kind:"LocalArgument",name:"properties"},m={defaultValue:null,kind:"LocalArgument",name:"recaptchaToken"},g={defaultValue:null,kind:"LocalArgument",name:"stats"},p={defaultValue:null,kind:"LocalArgument",name:"tokenId"},k={defaultValue:null,kind:"LocalArgument",name:"unlockableContent"},f=[{kind:"Variable",name:"assetContract",variableName:"assetContract"},{kind:"Variable",name:"chain",variableName:"chain"},{kind:"Variable",name:"collection",variableName:"collection"},{kind:"Variable",name:"description",variableName:"description"},{kind:"Variable",name:"externalLink",variableName:"externalLink"},{kind:"Variable",name:"imageFile",variableName:"imageFile"},{kind:"Variable",name:"isNsfw",variableName:"isNsfw"},{kind:"Variable",name:"levels",variableName:"levels"},{kind:"Variable",name:"maxSupply",variableName:"maxSupply"},{kind:"Variable",name:"mediaFile",variableName:"mediaFile"},{kind:"Variable",name:"name",variableName:"name"},{kind:"Variable",name:"properties",variableName:"properties"},{kind:"Variable",name:"recaptchaToken",variableName:"recaptchaToken"},{kind:"Variable",name:"stats",variableName:"stats"},{kind:"Variable",name:"tokenId",variableName:"tokenId"},{kind:"Variable",name:"unlockableContent",variableName:"unlockableContent"}],b={alias:null,args:null,kind:"ScalarField",name:"tokenId",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"address",storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"chain",storageKey:null},v={alias:null,args:null,concreteType:"AssetContractType",kind:"LinkedField",name:"assetContract",plural:!1,selections:[y,C],storageKey:null},h=[v,b],A={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:[e,n,a,l,t,i,s,o,r,c,u,d,m,g,p,k],kind:"Fragment",metadata:null,name:"AssetCreatePageMutation",selections:[{alias:null,args:null,concreteType:"AssetMutationType",kind:"LinkedField",name:"assets",plural:!1,selections:[{alias:null,args:f,concreteType:"AssetType",kind:"LinkedField",name:"create",plural:!1,selections:[b,v,{kind:"InlineDataFragmentSpread",name:"asset_url",selections:h},{kind:"InlineDataFragmentSpread",name:"itemEvents_data",selections:h}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[e,a,l,t,i,r,c,u,p,n,k,s,d,o,g,m],kind:"Operation",name:"AssetCreatePageMutation",selections:[{alias:null,args:null,concreteType:"AssetMutationType",kind:"LinkedField",name:"assets",plural:!1,selections:[{alias:null,args:f,concreteType:"AssetType",kind:"LinkedField",name:"create",plural:!1,selections:[b,{alias:null,args:null,concreteType:"AssetContractType",kind:"LinkedField",name:"assetContract",plural:!1,selections:[y,C,A],storageKey:null},A],storageKey:null}],storageKey:null}]},params:{cacheID:"fac0cab64c66ae3495ad2d570682ef14",id:null,metadata:{},name:"AssetCreatePageMutation",operationKind:"mutation",text:"mutation AssetCreatePageMutation(\n  $assetContract: AssetContractRelayID\n  $collection: CollectionSlug\n  $description: String\n  $externalLink: URL\n  $imageFile: Upload\n  $maxSupply: String\n  $mediaFile: Upload\n  $name: String!\n  $tokenId: String\n  $chain: ChainScalar!\n  $unlockableContent: String\n  $isNsfw: Boolean!\n  $properties: [StringTraitConfig!]\n  $levels: [NumericTraitConfig!]\n  $stats: [NumericTraitConfig!]\n  $recaptchaToken: String\n) {\n  assets {\n    create(assetContract: $assetContract, collection: $collection, description: $description, externalLink: $externalLink, imageFile: $imageFile, maxSupply: $maxSupply, mediaFile: $mediaFile, name: $name, tokenId: $tokenId, chain: $chain, unlockableContent: $unlockableContent, isNsfw: $isNsfw, properties: $properties, levels: $levels, stats: $stats, recaptchaToken: $recaptchaToken) {\n      tokenId\n      assetContract {\n        address\n        chain\n        id\n      }\n      ...asset_url\n      ...itemEvents_data\n      id\n    }\n  }\n}\n\nfragment asset_url on AssetType {\n  assetContract {\n    address\n    chain\n    id\n  }\n  tokenId\n}\n\nfragment itemEvents_data on AssetType {\n  assetContract {\n    address\n    chain\n    id\n  }\n  tokenId\n}\n"}}}();l.hash="dc2cb2021b5e4f5a6d87da267ff8efba",n.default=l},ug6I:function(e,n,a){"use strict";a.d(n,"a",(function(){return L}));var l,t,i=a("qd51"),s=a("/dBk"),o=a.n(s),r=a("mXGw"),c=a("O+LC"),u=(a("wcNg"),a("UutA")),d=a("XaKp"),m=a("Q5Gx"),g=a("jOHK"),p=a("+YaZ"),k=a("g8rX"),f=a("ZwbU"),b=a("SMcu"),y=a("h64z"),C=a("gP3Z"),v=a("Weac"),h=a("DWpj"),A=a("/Kpl"),j=a("kCmG"),x=a("YTPJ"),F=a("HSVd"),T=a("heV+"),V=a("oYCi"),L=function(e){var n,t,s,u,m,p=e.chain,A=e.data,T=Object(r.useState)("form"),L=T[0],O=T[1],$=Object(y.a)().mutate,w=Object(C.a)().isChainSupportingMintingTool,K=function(){var e=Object(i.a)(o.a.mark((function e(n){var t,i,s,r,u,d,m,g,p,k,f,b,y,C,v,x,T,V,L,S,w,K,N,I,D;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=n.chain,d=n.collectionOption,m=n.description,g=n.externalLink,p=n.imageFile,k=n.maxSupply,f=n.mediaFile,b=n.name,y=n.unlockableContent,C=n.isNsfw,v=n.properties,x=n.levels,T=n.stats,V=n.recaptchaToken,L=null!==(t=null===d||void 0===d?void 0:d.value)&&void 0!==t?t:null===A||void 0===A||null===(i=A.assetCollection)||void 0===i?void 0:i.slug,S=null!==(s=null===d||void 0===d?void 0:d.defaultMintableAssetContract)&&void 0!==s?s:null===A||void 0===A||null===(r=A.assetCollection)||void 0===r?void 0:r.defaultMintableAssetContract,O("sign"),e.prev=4,N=void 0,null===S||void 0===S||null===(w=S.openseaVersion)||void 0===w||!w.startsWith("1.")){e.next=10;break}if(S.address){e.next=9;break}throw new Error("Missing collection");case 9:throw new Error("Minting for this collection is no longer supported. Please create a new collection to mint new items");case 10:return O("wait"),e.next=13,$(void 0!==l?l:l=a("+tV+"),{assetContract:(null===M||void 0===M||null===(K=M.defaultMintableAssetContract)||void 0===K?void 0:K.relayId)||null,collection:L,description:m||null,externalLink:g||null,imageFile:p||null,maxSupply:k,mediaFile:f||null,name:b,tokenId:N,chain:u,unlockableContent:y,isNsfw:C,properties:Object.values(v),levels:Object.values(x),stats:Object.values(T),recaptchaToken:V},{shouldAuthenticate:!0});case 13:I=e.sent,D=I.assets.create,O("done"),Object(h.p)(D,{collectionSlug:L,unlockableContent:!!y,isNsfw:C}),F.a.push("".concat(Object(j.c)(D),"?created=true")),e.next=26;break;case 20:if(e.prev=20,e.t0=e.catch(4),O("form"),!(e.t0 instanceof c.RRNLRequestError)){e.next=25;break}throw e.t0;case 25:throw new Error("Error adding your item: ".concat(e.t0.message));case 26:case"end":return e.stop()}}),e,null,[[4,20]])})));return function(n){return e.apply(this,arguments)}}(),N=function(){return Object(V.jsx)("div",{className:"collectionManagerAssetCreate--loader",children:Object(V.jsx)(k.a,{size:"large"})})},M=null===A||void 0===A?void 0:A.assetCollection,I=null!==(n=null===A||void 0===A?void 0:A.assetCollection)&&void 0!==n?n:null===A||void 0===A||null===(t=A.getAccount)||void 0===t?void 0:t.defaultCollection,D=null!==p&&void 0!==p?p:null===I||void 0===I?void 0:I.defaultChain.identifier,E=null===M||void 0===M||null===(s=M.defaultMintableAssetContract)||void 0===s||null===(u=s.openseaVersion)||void 0===u?void 0:u.startsWith("1."),P=[{href:"/collections",label:"My collections"},{href:I?Object(x.f)(I):"/collections",label:null!==(m=null===M||void 0===M?void 0:M.name)&&void 0!==m?m:"Collection"}],_=Object(v.f)();return Object(V.jsxs)(S,{breadcrumbLinks:M?P:void 0,title:"Create New Item",children:[Object(V.jsx)(b.a,{title:Object(b.b)("Create NFTs")}),A?Object(V.jsx)(V.Fragment,{children:Object(V.jsx)(g.a,{asset:null,defaultChain:D&&w(D)?D:void 0,disableMaxSupply:E,initialCollectionOption:I?{value:I.slug,label:I.name,avatar:I.imageUrl?{src:I.imageUrl}:void 0,defaultMintableAssetContract:I.defaultMintableAssetContract}:void 0,isSeaportEnabled:_,showRecaptcha:!0,onSubmit:K})}):Object(V.jsx)(d.a,{}),Object(V.jsx)(f.a,{isOpen:"sign"===L||"minting"===L||"wait"===L,children:"wait"===L?Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(f.a.Header,{children:Object(V.jsx)(f.a.Title,{children:"Please wait..."})}),Object(V.jsx)(f.a.Body,{display:"flex",justifyContent:"center",children:N()})]}):"sign"===L?Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(f.a.Header,{children:Object(V.jsx)(f.a.Title,{children:"Waiting for your wallet signature..."})}),Object(V.jsx)(f.a.Body,{display:"flex",justifyContent:"center",children:N()})]}):"minting"===L?Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(f.a.Header,{children:Object(V.jsx)(f.a.Title,{children:"Minting your token..."})}),Object(V.jsx)(f.a.Body,{display:"flex",justifyContent:"center",children:Object(V.jsx)(d.a,{blockchain:!0})})]}):null})]})};L.query=void 0!==t?t:t=a("zFvi"),L.getInitialProps=T.a.nextParser({chain:T.a.Optional(T.a.ChainIdentifier),collectionSlug:T.a.Optional(T.a.string)},(function(e,n){var a=e.chain,l=e.collectionSlug;return{chain:a,variables:{collection:null!==l&&void 0!==l?l:void 0,isExistingCollection:!!l,useDefaultCollection:!l,identity:A.a.fromContext(n).getActiveAddressStrict()}}}));var S=Object(u.d)(p.a).withConfig({componentId:"sc-1fmugvm-0"})([".collectionManagerAssetCreate--loader{align-items:center;display:flex;height:100%;justify-content:center;padding:16px;width:100%;}",""],Object(m.e)({tabletS:Object(u.c)(["width:100%;"])}))},zFvi:function(e,n,a){"use strict";a.r(n);var l=function(){var e={defaultValue:null,kind:"LocalArgument",name:"collection"},n={defaultValue:null,kind:"LocalArgument",name:"identity"},a={defaultValue:null,kind:"LocalArgument",name:"isExistingCollection"},l={defaultValue:null,kind:"LocalArgument",name:"useDefaultCollection"},t=[{kind:"Variable",name:"address",variableName:"identity"}],i={alias:null,args:null,concreteType:"ChainType",kind:"LinkedField",name:"defaultChain",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"identifier",storageKey:null}],storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"address",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"relayId",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"openseaVersion",storageKey:null},m={kind:"InlineDataFragmentSpread",name:"collection_url",selections:[r]},g=[{kind:"Variable",name:"collection",variableName:"collection"}],p={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:[e,n,a,l],kind:"Fragment",metadata:null,name:"AssetCreatePageQuery",selections:[{condition:"useDefaultCollection",kind:"Condition",passingValue:!0,selections:[{alias:null,args:t,concreteType:"AccountType",kind:"LinkedField",name:"getAccount",plural:!1,selections:[{alias:null,args:null,concreteType:"CollectionType",kind:"LinkedField",name:"defaultCollection",plural:!1,selections:[i,s,o,r,{alias:null,args:null,concreteType:"AssetContractType",kind:"LinkedField",name:"defaultMintableAssetContract",plural:!1,selections:[c,u,d],storageKey:null},m],storageKey:null}],storageKey:null}]},{condition:"isExistingCollection",kind:"Condition",passingValue:!0,selections:[{alias:"assetCollection",args:g,concreteType:"CollectionType",kind:"LinkedField",name:"collection",plural:!1,selections:[i,{alias:null,args:null,concreteType:"AssetContractType",kind:"LinkedField",name:"defaultMintableAssetContract",plural:!1,selections:[u,c,d],storageKey:null},s,r,o,m],storageKey:null}]}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,e,a,l],kind:"Operation",name:"AssetCreatePageQuery",selections:[{condition:"useDefaultCollection",kind:"Condition",passingValue:!0,selections:[{alias:null,args:t,concreteType:"AccountType",kind:"LinkedField",name:"getAccount",plural:!1,selections:[{alias:null,args:null,concreteType:"CollectionType",kind:"LinkedField",name:"defaultCollection",plural:!1,selections:[i,s,o,r,{alias:null,args:null,concreteType:"AssetContractType",kind:"LinkedField",name:"defaultMintableAssetContract",plural:!1,selections:[c,u,d,p],storageKey:null},p],storageKey:null},p],storageKey:null}]},{condition:"isExistingCollection",kind:"Condition",passingValue:!0,selections:[{alias:"assetCollection",args:g,concreteType:"CollectionType",kind:"LinkedField",name:"collection",plural:!1,selections:[i,{alias:null,args:null,concreteType:"AssetContractType",kind:"LinkedField",name:"defaultMintableAssetContract",plural:!1,selections:[u,c,d,p],storageKey:null},s,r,o,p],storageKey:null}]}]},params:{cacheID:"7fec21e348aceac4502981e808829999",id:null,metadata:{},name:"AssetCreatePageQuery",operationKind:"query",text:"query AssetCreatePageQuery(\n  $identity: AddressScalar!\n  $collection: CollectionSlug\n  $isExistingCollection: Boolean!\n  $useDefaultCollection: Boolean!\n) {\n  getAccount(address: $identity) @include(if: $useDefaultCollection) {\n    defaultCollection {\n      defaultChain {\n        identifier\n      }\n      name\n      imageUrl\n      slug\n      defaultMintableAssetContract {\n        address\n        relayId\n        openseaVersion\n        id\n      }\n      ...collection_url\n      id\n    }\n    id\n  }\n  assetCollection: collection(collection: $collection) @include(if: $isExistingCollection) {\n    defaultChain {\n      identifier\n    }\n    defaultMintableAssetContract {\n      relayId\n      address\n      openseaVersion\n      id\n    }\n    name\n    slug\n    imageUrl\n    ...collection_url\n    id\n  }\n}\n\nfragment collection_url on CollectionType {\n  slug\n}\n"}}}();l.hash="e0153551a7f493988d49f75572ae2762",n.default=l}}]);
//# sourceMappingURL=fa04e2c2da5f442f63edf0ab58e2fe90b99c2683.45a065dd93b1bd8aeca3.js.map